/**
 * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

import type { Config, GlobalConfig } from '@jest/types';

/**
 * Returns a string containing the active filters, formatted as a comma-separated list.
 * @param globalConfig - The global Jest configuration object.
 * @param delimiter - The delimiter to use between filter values (default: comma).
 * @returns A string containing the active filters.
 */
const activeFilters = (globalConfig: GlobalConfig, delimiter = ',') => {
  // Filter out any keys that don't have a truthy value
  const filteredConfig = Object.keys(globalConfig).filter((key) => Boolean(globalConfig[key]));

  // Join the remaining keys with the specified delimiter
  return filteredConfig.join(delimiter);
};

export default activeFilters;
