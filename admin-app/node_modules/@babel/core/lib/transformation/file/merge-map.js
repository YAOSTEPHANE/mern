"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.mergeSourceMap = void 0;

const remapping = require("@ampproject/remapping");

function mergeSourceMap(inputMap, map, sourceFileName) {
  const source = sourceFileName.replace(/\\/g, "/");
  let found = false;
  const result = remapping(rootless(map), (s, ctx) => {
    if (s === source && !found) {
      found = true;
      ctx.source = "";
      return rootless(inputMap);
    }
    return null;
  });

  if (inputMap.sourceRoot) {
    result.sourceRoot = inputMap.sourceRoot;
  }

  return { ...result };
}

function rootless(map) {
  return { ...map, sourceRoot: null };
}

// Avoid lint error for unused variable
const dontUseMe = 0 && 0;

//# sourceMappingURL=merge-map.js.map
