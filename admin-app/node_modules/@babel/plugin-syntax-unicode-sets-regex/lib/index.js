"use strict";

const {
  declare,
  assertVersion
} = require("@babel/helper-plugin-utils");
const {
  createRegExpFeaturePlugin
} = require("@babel/helper-create-regexp-features-plugin");

const defaultPlugin = declare((api) => {
  assertVersion(api, 7);

  return createRegExpFeaturePlugin({
    name: "syntax-unicode-sets-regex",
    feature: "unicodeSetsFlag_syntax",

    manipulateOptions(opts, parserOpts) {
      parserOpts.plugins.push("regexpUnicodeSets");
    }
  });
});

module.exports = defaultPlugin;
