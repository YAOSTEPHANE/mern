"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OptionValidator = void 0;
const findSuggestion = require("./find-suggestion.js");
class OptionValidator {
  constructor(descriptor) {
    this.descriptor = descriptor;
  }
  validateTopLevelOptions(options, TopLevelOptionShape) {
    const validOptionNames = Object.keys(TopLevelOptionShape);
    const invalidOptions = Object.keys(options).filter(option => !validOptionNames.includes(option));
    if (invalidOptions.length > 0) {
      throw new Error(this.formatMessage(`'${invalidOptions.join("', '")}' are not valid top-level options.
- Did you mean '${invalidOptions.map(option => findSuggestion(option, validOptionNames)).join("', '")}'?`));
    }
  }
  validateBooleanOption(name, value, defaultValue) {
    if (value === undefined) {
      return defaultValue;
    } else if (typeof value === "boolean") {
      return value;
    } else {
      this.invariant(false, `'${name}' option must be a boolean.`);
    }
  }
  validateStringOption(name, value, defaultValue) {
    if (value === undefined) {
      return defaultValue;
    } else if (typeof value === "string") {
      return value;
    } else {
      this.invariant(false, `'${name}' option must be a string.`);
    }
  }
  invariant(condition, message) {
    if (!condition) {
      throw new Error(this.formatMessage(message));
    }
  }
  formatMessage(message) {
    return `${this.descriptor}: ${message}`;
  }
}
exports.OptionValidator = OptionValidator;

//# sourceMappingURL=validator.js.map

