#!/bin/sh

# Get the basedir, ensuring it always ends with a slash
basedir=$(cd "$(dirname "$0")" && pwd)/

# Convert basedir to Windows format if running on Cygwin, Mingw or MSYS
case $(uname -s) in
    CYGWIN*|MINGW*|MSYS*)
        basedir=$(cygpath -w -- "$basedir")
    ;;
esac

# Check if the local node binary exists, and use it if it does
if [ -x "$basedir/node" ]; then
  exec "$basedir/node" "$basedir/../eslint/bin/eslint.js" "$@"
# If not, check if node is in the PATH and use it
elif command -v node >/dev/null 2>&1; then
  exec node "$basedir/../eslint/bin/eslint.js" "$@"
fi

# If we get here, node is not installed, so print an error message
echo "Error: node is not installed or not in PATH" >&2
exit 1
