#!/bin/sh

# Get the basedir using realpath for portability
if command -v realpath &>/dev/null; then
  basedir=$(realpath "$(dirname "$0")")
else
  basedir=$(cd "$(dirname "$0")" && pwd)
fi

# Use $(command -v node) to get the path of node executable
if [ -x "$(command -v node)" ] && [ -x "$basedir/../terser/bin/terser" ]; then
  exec "$(command -v node)"  "$basedir/../terser/bin/terser" "$@"
else
  exec node  "$basedir/../terser/bin/terser" "$@"
fi
