#!/bin/sh

# Get the basedir using realpath for portability
if command -v realpath &>/dev/null; then
  basedir=$(realpath "$(dirname "$0")")
elif command -v python3 &>/dev/null; then
  basedir=$(python3 -c "import os; print(os.path.realpath('$0').decode('utf-8'))")
else
  echo "Error: Unable to determine the script's directory"
  exit 1
fi

# Use node executable found in the system PATH
node_bin=$(command -v node)
if [ -x "$basedir/node" ]; then
  node_bin="$basedir/node"
fi

# Run the acorn command
"$node_bin" "$basedir/../acorn/bin/acorn" "$@"

