#!/bin/sh

# Get the basedir using realpath for portability
if command -v realpath &>/dev/null; then
  basedir=$(realpath "$(dirname "$0")")
else
  basedir=$(cd "$(dirname "$0")" && pwd)
fi

# Use $(command -v node) to get the path of node executable
if [ -x "$(command -v node)" ] && [ -x "$basedir/node" ]; then
  exec "$(command -v node)"  "$basedir/../json5/lib/cli.js" "$@"
else
  exec "$(command -v node)"  "$(dirname "$(command -v node)")/../json5/lib/cli.js" "$@"
fi
