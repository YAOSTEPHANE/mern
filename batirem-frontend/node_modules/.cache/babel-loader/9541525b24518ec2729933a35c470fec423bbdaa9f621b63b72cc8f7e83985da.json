{"ast":null,"code":"import axios from \"../helpers/axios\";\nimport { productConstants } from \"./constants\";\nexport const getProductsBySlug = slug => {\n  return async dispatch => {\n    const res = await axios.get(`/products/${slug}`);\n    if (res.status === 200) {\n      dispatch({\n        type: productConstants.GET_PRODUCTS_BY_SLUG,\n        payload: res.data\n      });\n    } else {\n      // dispatch({\n      //type: productConstants.GET_PRODUCTS_BY_SLUG,\n      //payload: { error: res.data.error }\n      //});\n    }\n  };\n};\nexport const getProductPage = payload => {\n  return async dispatch => {\n    try {\n      const {\n        cid,\n        type\n      } = payload.params;\n      const res = await axios.get(`/page/${cid}/${type}`);\n      dispatch({\n        type: productConstants.GET_PRODUCT_PAGE_REQUEST\n      });\n      if (res.status === 200) {\n        const {\n          page\n        } = res.data;\n        dispatch({\n          type: productConstants.GET_PRODUCT_PAGE_SUCCESS,\n          payload: {\n            page\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: productConstants.GET_PRODUCT_PAGE_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const getProductDetailsById = payload => {\n  return async dispatch => {\n    dispatch({\n      type: productConstants.GET_PRODUCT_DETAILS_BY_ID_REQUEST\n    });\n    let res;\n    try {\n      const {\n        productId\n      } = payload.params;\n      res = await axios.get(`/product/${productId}`);\n      console.log(res);\n      dispatch({\n        type: productConstants.GET_PRODUCT_DETAILS_BY_ID_SUCCESS,\n        payload: {\n          productDetails: res.data.product\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      dispatch({\n        type: productConstants.GET_PRODUCT_DETAILS_BY_ID_FAILURE,\n        payload: {\n          error: res.data.error\n        }\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","productConstants","getProductsBySlug","slug","dispatch","res","get","status","type","GET_PRODUCTS_BY_SLUG","payload","data","getProductPage","cid","params","GET_PRODUCT_PAGE_REQUEST","page","GET_PRODUCT_PAGE_SUCCESS","error","GET_PRODUCT_PAGE_FAILURE","console","log","getProductDetailsById","GET_PRODUCT_DETAILS_BY_ID_REQUEST","productId","GET_PRODUCT_DETAILS_BY_ID_SUCCESS","productDetails","product","GET_PRODUCT_DETAILS_BY_ID_FAILURE"],"sources":["C:/Users/kouas/Desktop/mern-batirem/batirem-frontend/src/actions/product.action.js"],"sourcesContent":["import axios from \"../helpers/axios\";\r\nimport { productConstants } from \"./constants\";\r\n\r\n\r\nexport const getProductsBySlug = (slug) => {\r\n    return async dispatch => {\r\n        const res = await axios.get(`/products/${slug}`);\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: productConstants.GET_PRODUCTS_BY_SLUG,\r\n                payload: res.data\r\n            });\r\n        } else {\r\n            // dispatch({\r\n            //type: productConstants.GET_PRODUCTS_BY_SLUG,\r\n            //payload: { error: res.data.error }\r\n            //});\r\n        }\r\n    }\r\n}\r\n\r\nexport const getProductPage = (payload) => {\r\n    return async dispatch => {\r\n        try {\r\n            const { cid, type } = payload.params;\r\n            const res = await axios.get(`/page/${cid}/${type}`);\r\n            dispatch({ type: productConstants.GET_PRODUCT_PAGE_REQUEST });\r\n            if (res.status === 200) {\r\n                const { page } = res.data;\r\n                dispatch({\r\n                    type: productConstants.GET_PRODUCT_PAGE_SUCCESS,\r\n                    payload: { page }\r\n                });\r\n            } else {\r\n                const { error } = res.data;\r\n                dispatch({\r\n                    type: productConstants.GET_PRODUCT_PAGE_FAILURE,\r\n                    payload: { error }\r\n                });\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const getProductDetailsById = (payload) => {\r\n    return async dispatch => {\r\n        dispatch({ type: productConstants.GET_PRODUCT_DETAILS_BY_ID_REQUEST });\r\n        let res;\r\n        try {\r\n            const { productId } = payload.params;\r\n            res = await axios.get(`/product/${productId}`);\r\n            console.log(res);\r\n            dispatch({\r\n                type: productConstants.GET_PRODUCT_DETAILS_BY_ID_SUCCESS,\r\n                payload: { productDetails: res.data.product }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch({\r\n                type: productConstants.GET_PRODUCT_DETAILS_BY_ID_FAILURE,\r\n                payload: { error: res.data.error }\r\n            });\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,kBAAkB;AACpC,SAASC,gBAAgB,QAAQ,aAAa;AAG9C,OAAO,MAAMC,iBAAiB,GAAIC,IAAI,IAAK;EACvC,OAAO,MAAMC,QAAQ,IAAI;IACrB,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,aAAYH,IAAK,EAAC,CAAC;IAChD,IAAIE,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;MACpBH,QAAQ,CAAC;QACLI,IAAI,EAAEP,gBAAgB,CAACQ,oBAAoB;QAC3CC,OAAO,EAAEL,GAAG,CAACM;MACjB,CAAC,CAAC;IACN,CAAC,MAAM;MACH;MACA;MACA;MACA;IAAA;EAER,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIF,OAAO,IAAK;EACvC,OAAO,MAAMN,QAAQ,IAAI;IACrB,IAAI;MACA,MAAM;QAAES,GAAG;QAAEL;MAAK,CAAC,GAAGE,OAAO,CAACI,MAAM;MACpC,MAAMT,GAAG,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,SAAQO,GAAI,IAAGL,IAAK,EAAC,CAAC;MACnDJ,QAAQ,CAAC;QAAEI,IAAI,EAAEP,gBAAgB,CAACc;MAAyB,CAAC,CAAC;MAC7D,IAAIV,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;QACpB,MAAM;UAAES;QAAK,CAAC,GAAGX,GAAG,CAACM,IAAI;QACzBP,QAAQ,CAAC;UACLI,IAAI,EAAEP,gBAAgB,CAACgB,wBAAwB;UAC/CP,OAAO,EAAE;YAAEM;UAAK;QACpB,CAAC,CAAC;MACN,CAAC,MAAM;QACH,MAAM;UAAEE;QAAM,CAAC,GAAGb,GAAG,CAACM,IAAI;QAC1BP,QAAQ,CAAC;UACLI,IAAI,EAAEP,gBAAgB,CAACkB,wBAAwB;UAC/CT,OAAO,EAAE;YAAEQ;UAAM;QACrB,CAAC,CAAC;MACN;IAEJ,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IACtB;EAEJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMI,qBAAqB,GAAIZ,OAAO,IAAK;EAC9C,OAAO,MAAMN,QAAQ,IAAI;IACrBA,QAAQ,CAAC;MAAEI,IAAI,EAAEP,gBAAgB,CAACsB;IAAkC,CAAC,CAAC;IACtE,IAAIlB,GAAG;IACP,IAAI;MACA,MAAM;QAAEmB;MAAU,CAAC,GAAGd,OAAO,CAACI,MAAM;MACpCT,GAAG,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,YAAWkB,SAAU,EAAC,CAAC;MAC9CJ,OAAO,CAACC,GAAG,CAAChB,GAAG,CAAC;MAChBD,QAAQ,CAAC;QACLI,IAAI,EAAEP,gBAAgB,CAACwB,iCAAiC;QACxDf,OAAO,EAAE;UAAEgB,cAAc,EAAErB,GAAG,CAACM,IAAI,CAACgB;QAAQ;MAChD,CAAC,CAAC;IACN,CAAC,CAAC,OAAOT,KAAK,EAAE;MACZE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;MAClBd,QAAQ,CAAC;QACLI,IAAI,EAAEP,gBAAgB,CAAC2B,iCAAiC;QACxDlB,OAAO,EAAE;UAAEQ,KAAK,EAAEb,GAAG,CAACM,IAAI,CAACO;QAAM;MACrC,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}