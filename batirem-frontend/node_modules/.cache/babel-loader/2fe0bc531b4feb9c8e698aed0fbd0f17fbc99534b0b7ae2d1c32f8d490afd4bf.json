{"ast":null,"code":"import { cartConstants } from './constants';\nimport store from '../store';\nexport const addToCart = (product, qty = null) => {\n  return async dispatch => {\n    const {\n      cartItems\n    } = store.getState().cart;\n    //console.log('action::products', products);\n    // const product = action.payload.product;\n    // const products = actions.payload.products;\n    const qty = cartItems[product._id] ? parseInt(cartItems[product._id].qty + 1) : 1;\n    cartItems[product._id] = {\n      ...product,\n      qty\n    };\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n    dispatch({\n      type: cartConstants.ADD_TO_CART,\n      payload: {\n        cartItems\n      }\n    });\n  };\n};\nexport const updateCart = () => {\n  return async dispatch => {\n    const cartItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : null;\n    if (cartItems) {\n      dispatch({\n        type: cartConstants.ADD_TO_CART,\n        payload: {\n          cartItems\n        }\n      });\n    }\n  };\n};","map":{"version":3,"names":["cartConstants","store","addToCart","product","qty","dispatch","cartItems","getState","cart","_id","parseInt","localStorage","setItem","JSON","stringify","type","ADD_TO_CART","payload","updateCart","getItem","parse"],"sources":["C:/Users/kouas/Desktop/mern-batirem/batirem-frontend/src/actions/cart.action.js"],"sourcesContent":["import { cartConstants } from './constants';\r\nimport store from '../store';\r\n\r\n\r\n\r\n\r\nexport const addToCart = (product, qty=null) => {\r\n    return async dispatch => {\r\n        const {cartItems} = store.getState().cart;\r\n        //console.log('action::products', products);\r\n        // const product = action.payload.product;\r\n        // const products = actions.payload.products;\r\n         const qty = cartItems[product._id] ? parseInt(cartItems[product._id].qty + 1) : 1;\r\n            cartItems[product._id] = {\r\n                ...product,\r\n                qty\r\n            };\r\n            localStorage.setItem('cart', JSON.stringify(cartItems));\r\n\r\n            dispatch({\r\n                type: cartConstants.ADD_TO_CART,\r\n                payload: {cartItems}\r\n            });\r\n    }\r\n}\r\n\r\nexport const updateCart = () => {\r\n    return async dispatch => {\r\n        const cartItems = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : null;\r\n\r\n        if(cartItems){\r\n            dispatch({\r\n                type: cartConstants.ADD_TO_CART,\r\n                payload: {cartItems}\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,SAASA,aAAa,QAAQ,aAAa;AAC3C,OAAOC,KAAK,MAAM,UAAU;AAK5B,OAAO,MAAMC,SAAS,GAAGA,CAACC,OAAO,EAAEC,GAAG,GAAC,IAAI,KAAK;EAC5C,OAAO,MAAMC,QAAQ,IAAI;IACrB,MAAM;MAACC;IAAS,CAAC,GAAGL,KAAK,CAACM,QAAQ,CAAC,CAAC,CAACC,IAAI;IACzC;IACA;IACA;IACC,MAAMJ,GAAG,GAAGE,SAAS,CAACH,OAAO,CAACM,GAAG,CAAC,GAAGC,QAAQ,CAACJ,SAAS,CAACH,OAAO,CAACM,GAAG,CAAC,CAACL,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;IAC9EE,SAAS,CAACH,OAAO,CAACM,GAAG,CAAC,GAAG;MACrB,GAAGN,OAAO;MACVC;IACJ,CAAC;IACDO,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACR,SAAS,CAAC,CAAC;IAEvDD,QAAQ,CAAC;MACLU,IAAI,EAAEf,aAAa,CAACgB,WAAW;MAC/BC,OAAO,EAAE;QAACX;MAAS;IACvB,CAAC,CAAC;EACV,CAAC;AACL,CAAC;AAED,OAAO,MAAMY,UAAU,GAAGA,CAAA,KAAM;EAC5B,OAAO,MAAMb,QAAQ,IAAI;IACrB,MAAMC,SAAS,GAAGK,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC,GAAGN,IAAI,CAACO,KAAK,CAACT,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI;IAEhG,IAAGb,SAAS,EAAC;MACTD,QAAQ,CAAC;QACLU,IAAI,EAAEf,aAAa,CAACgB,WAAW;QAC/BC,OAAO,EAAE;UAACX;QAAS;MACvB,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}